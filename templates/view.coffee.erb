class window.<%= object_name %>View extends Backbone.View
  events: {
    'click button.save': 'save',
    'click button.delete': 'destroy'
  }
  attributeFields: []
  template: JST['<%= underscore_name %>s/view']
  className: '<%= css_class_name %>'
  initialize: ->
    _.bindAll(this, 'remove')

    @model.bind('change', this.render)
    @model.bind('remove', this.remove)
    @model.view = this
  render: =>
    $(@el).html(this.template(@model.toJSON()))
    this.$('button.save').text(if @model.isNew() then 'Create' else 'Update')
    this.$('button.delete')[if @model.isNew() then 'hide' else 'show']();
    this
  save: =>
    @model.save(this.attributes())
  destroy: =>
    if confirm("Are you sure?")
      @model.destroy

